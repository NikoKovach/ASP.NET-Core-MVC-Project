@using Payroll.Services.Services
@using Payroll.ViewModels.PagingViewModels
@using Payroll.ViewModels.PersonViewModels
@using System.Reflection
@model PagingListSorted<IdDocumentVM>

@{
       IdDocumentVM firstDocument = Model.ItemsCollection[ 0 ];
       string? sortText = Model.SortValue;

       PropertyInfo[]? fieldsName = firstDocument.GetType().GetProperties();
       int? personId = ( Model.ItemsCollection.Count > 0 ) ? firstDocument.PersonId : null;

       // sort by DocumentName ; Date of expire  на изтичане !!!  ;  Date Of Issue  на издаване ;IsValid
}

<thead class="table-success">
       <tr>
              <th class="px-1 py-0 text-center"></th>
              <th class="px-1 py-0 text-center">
                     <label class="fw-bold">#</label>
              </th>
              <th class="px-1 py-0 text-center">
                     <label asp-for="@firstDocument.Id" class="fw-bold column-lbl"
                            value="@fieldsName[0].Name"></label>
              </th>
              <th class="px-1 py-0 text-center">
                     <form asp-action="AllDocuments" id="formGoToPage">
                            <div>
                                   <input type="hidden" value="@personId" name="personId" />
                                   <input type="hidden" value="@Model.PageIndex" class="page-number" name="pageIndex" />
                                   <input type="hidden" value="@Model.PageSize" name="pageSize" />
                                   <input type="hidden" value="@sortText" name="sortParam" class="input-sort" />

                                   <button class="btn table-sortBtn px-0">
                                          <label asp-for="@firstDocument.DocumentName" 
                                                        class="fw-bold column-lbl text-decoration-underline"
                                                        value="@fieldsName[1].Name"></label>
                                   </button>
                            </div>
                     </form>
              </th>
              <th class="px-1 py-0 text-center">
                     <label asp-for="@firstDocument.DocumentNumber" class="fw-bold column-lbl"
                            value="@fieldsName[2].Name"></label>
              </th>
              <th class="px-1 py-0 text-center">
                     <label asp-for="@firstDocument.Nationality" class="fw-bold column-lbl"
                            value="@fieldsName[3].Name"></label>
              </th>
              <th class="px-1 py-0 text-center">
                     <label asp-for="@firstDocument.DateOfBirth" class="fw-bold column-lbl"
                            value="@fieldsName[4].Name"></label>
              </th>
              <th class="px-1 py-0 text-center">
                     <form asp-action="AllDocuments">
                            <div>
                                   <input type="hidden" value="@personId" name="personId" />
                                   <input type="hidden" value="@Model.PageIndex"  name="pageIndex" class="page-number"/>
                                   <input type="hidden" value="@Model.PageSize" name="pageSize" />
                                   <input type="hidden" value="@sortText" name="sortParam"  class="input-sort"/>

                                   <button class="btn table-sortBtn px-0">
                                          <label asp-for="@firstDocument.DateOfExpire" 
                                                        class="fw-bold column-lbl text-decoration-underline"
                                                        value="@fieldsName[5].Name"></label>
                                   </button>
                            </div>
                     </form>
              </th>
              <th class="px-1 py-0 text-center">
                     <label asp-for="@firstDocument.PlaceOfBirth" class="fw-bold column-lbl"
                            value="@fieldsName[6].Name"></label>
              </th>
              <th class="px-1 py-0 text-center">
                     <label asp-for="@firstDocument.Height" class="fw-bold column-lbl"
                            value="@fieldsName[7].Name"></label>
              </th>
              <th class="px-1 py-0 text-center">
                     <label asp-for="@firstDocument.ColorOfEyes" class="fw-bold column-lbl"
                            value="@fieldsName[8].Name"></label>
              </th>
              <th class="px-1 py-0 text-center">
                     <label asp-for="@firstDocument.IssuingAuthority" class="fw-bold column-lbl"
                            value="@fieldsName[9].Name"></label>
              </th>
              <th class="px-1 py-0 text-center">
                     <form asp-action="AllDocuments">
                            <div>
                                   <input type="hidden" value="@personId" name="personId" />
                                   <input type="hidden" value="@Model.PageIndex"  name="pageIndex" class="page-number"/>
                                   <input type="hidden" value="@Model.PageSize" name="pageSize" />
                                   <input type="hidden" value="@sortText" name="sortParam"  class="input-sort"/>

                                   <button class="btn table-sortBtn px-0">
                                          <label asp-for="@firstDocument.DateOfIssue" 
                                                        class="fw-bold column-lbl text-decoration-underline"
                                                        value="@fieldsName[10].Name"></label>
                                   </button>
                            </div>
                      </form>
              </th>
              <th class="px-1 py-0 text-center">
                     <label asp-for="@firstDocument.VehicleCategory" class="fw-bold column-lbl"
                            value="@fieldsName[11].Name"></label>
              </th>
              <th class="px-1 py-0 text-center">
                     <label asp-for="@firstDocument.DateOfAcquisitionOfTheCategory" class="fw-bold column-lbl"
                            value="@fieldsName[12].Name"></label>
              </th>
              <th class="px-1 py-0 text-center">
                     <form asp-action="AllDocuments">
                            <div>
                                   <input type="hidden" value="@personId" name="personId" />
                                   <input type="hidden" value="@Model.PageIndex" name="pageIndex" class="page-number" />
                                   <input type="hidden" value="@Model.PageSize" name="pageSize" />
                                   <input type="hidden" value="@sortText" name="sortParam" class="input-sort" />
                                   <button class="btn table-sortBtn px-0">
                                          <label asp-for="@firstDocument.IsValid"
                                                 class="fw-bold column-lbl text-decoration-underline"
                                                 value="@fieldsName[13].Name"></label>
                                   </button>
                            </div>
                     </form>
              </th>
              <th class="px-1 py-0 text-center">
                     <label asp-for="@firstDocument.HasBeenDeleted" class="fw-bold column-lbl"
                            value="@fieldsName[14].Name"></label>
              </th>
              <th class="px-1 py-0 text-center" hidden>
                     <label asp-for="@firstDocument.PersonId" class="column-lbl"
                            value="@fieldsName[16].Name"></label>
              </th>
       </tr>
</thead>

@* <tr>

       <th class="px-1 py-0 text-center">
              <div>
                     <button class="btn table-sortBtn px-0"
                             form="formGoToPage"
                             type="submit">
                            <label asp-for="@firstDocument.DateOfExpire"
                                   class="fw-bold column-lbl text-decoration-underline"
                                   value="@fieldsName[5].Name"></label>
                     </button>
              </div>
       </th>

       
       <th class="px-1 py-0 text-center">
              <div>
                     <button class="btn table-sortBtn px-0"
                             form="formGoToPage"
                             type="submit">
                            <label asp-for="@firstDocument.DateOfIssue"
                                   class="fw-bold column-lbl text-decoration-underline"
                                   value="@fieldsName[10].Name"></label>
                     </button>
              </div>
       </th>
       

       <th class="px-1 py-0 text-center">
              <div>
                     <button class="btn table-sortBtn px-0"
                             form="formGoToPage"
                             type="submit">
                            <label asp-for="@firstDocument.IsValid"
                                   class="fw-bold column-lbl text-decoration-underline"
                                   value="@fieldsName[13].Name"></label>
                     </button>
              </div>
       </th>
       <th class="px-1 py-0 text-center">
              <label asp-for="@firstDocument.HasBeenDeleted" class="fw-bold column-lbl"
                     value="@fieldsName[14].Name"></label>
       </th>
       <th class="px-1 py-0 text-center" hidden>
              <label asp-for="@firstDocument.PersonId" class="column-lbl"
                     value="@fieldsName[16].Name"></label>
       </th>
</tr> *@