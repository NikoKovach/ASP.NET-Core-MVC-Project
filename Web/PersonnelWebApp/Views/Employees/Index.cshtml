@using Payroll.Services.Services
@using Payroll.ViewModels.EmployeeViewModels
@using Payroll.ViewModels.PagingViewModels
@model PagingBaseList<GetEmployeeVM>

@{
	ViewData["Title"] = "Employee records";
	Layout = "~/Views/Shared/_LayoutLight.cshtml";
}

<div class="col">
	<div class="row navbar-custom">
		<div class="col-sm-2 px-1 py-1">
                     <h4 class="text-justify text-dark text-center my-0 py-2">Employees</h4>
		</div>
		<div class="col-sm-10 px-1">
			<nav class="navbar navbar-custom navbar-expand-sm navbar-light justify-content-center">
				<ul class="navbar-nav">
					<li class="nav-item">
						<form asp-controller="Employees" asp-action="AllPresent">
							<input id="show-all" type="hidden" name="companyId" />
							<input id="all-employees-submit"
                                                             class="nav-link btn emp-manage-btn"
                                                             type="submit" 
							            value="All Employees" />
						</form>
					</li>
                                   <partial name="_PartialManageEmployees"></partial>
                                   <li class="nav-item">
                                          <div class="dropdown">
                                                 <button class="nav-link btn emp-manage-btn dropdown-toggle"
                                                                data-bs-toggle="dropdown">
                                                        Sections
                                                 </button>
                                                 <ul class="dropdown-menu">
                                                        <li>
                                                               <form asp-area="LaborAgreements"
                                                                     asp-controller="Agreements" asp-action="Index"
                                                                     method="post" id="AgreementForm">
                                                                      <a class="dropdown-item" href="#"
                                                                         onclick="document.getElementById('AgreementForm').submit()">
                                                                             Contracts and Annexes
                                                                      </a>
                                                               </form>
                                                        </li>
                                                        <li>
                                                               <a asp-area="Vacations" asp-controller="Leave" asp-action="Index"
                                                                      class="dropdown-item">
                                                                      Leave and Temporary Disability
                                                               </a>
                                                        </li>
                                                        <li><a class="dropdown-item" href="#">Link 3</a></li>
                                                 </ul>
                                          </div>
                                   </li>
				</ul>
			</nav>
		</div>
	</div>
	<hr />
</div>

<div id="employees" class="main-view">
	<div>
		<div class="form-control mb-2">
			<div class="row">
				@Html.AntiForgeryToken()
				<div class="col-md-5">
					<label>Select Company</label>
                                   <vc:select-company parent-view="Index"></vc:select-company>
				</div>		
			</div>	
		</div>
	</div>

	<div>
		<partial name="_PartialEmployee" model="@Model.ItemsCollection[0]"></partial>
		<br />
		@{
			var prevDisabled = !Model.HasPreviousPage ? "disabled" : "";
			var nextDisabled = !Model.HasNextPage ? "disabled" : "";
		}

		<div class="carousel col-mb-6">
			<button class="previous-page btn btn-outline-primary ">
				Previous
			</button>
			<input class="emp-paging text-center" name="pageNumber" />
			<label id="totalPages">/ </label>
			<button class="next-page btn btn-outline-primary ">
				Next
			</button>
		</div>
	</div>
</div>

<!-- Javascript files-->
@section Scripts
{
	<script src="~/custom/js/ajax_jquery_functions.js" asp-append-version="true"></script>
}


