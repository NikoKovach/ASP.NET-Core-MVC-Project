@using Payroll.Services.Services
@using Payroll.ViewModels.PagingViewModels
@using Payroll.ViewModels.PersonViewModels
@model PagingListSorted<DiplomaVM>

@{
       DiplomaVM? diplomaVM = Model.Entity;

       string? sortText = Model.SortValue;
       int? personId = ( Model.ItemsCollection.Count > 0 ) ? Model.ItemsCollection[ 0 ].PersonId : null;
       string? nameAttrInputPersonId = $"{nameof( diplomaVM )}.{nameof( personId )}";
}

<form asp-action="Create">
       <input type="hidden" value="@Model.PageIndex" name="pageIndex" />
       <input type="hidden" value=@sortText name="sortParam" />
       <input type="hidden" value=@personId name="personId" />
       <input type="hidden" value=@Model.PageSize name="pageSize" />

       <div class="table-responsive">
              <table class="table table-hover table-responsive-sm ">
                     <tbody>
                            <tr id="last-row-add" hidden>
                                   <td class="px-4 py-1"></td>
                                   <td class="px-4 py-1"></td>
                                   <td class="px-3 py-1"></td>
                                   <td class="px-3 py-1"></td>
                                   <td class="px-1 py-1">
                                          <input type="hidden" value="@personId" name="diplomaVM.personId" class="border-0 px-1" />
                                   </td>
                                   <td class="px-1 py-1">
                                          <input asp-for="@diplomaVM.DiplomaRegNumber" type="text"
                                                 placeholder="Required" class="border-1 px-1 col-sm-11"
                                                 validate field-name="@nameof(diplomaVM.DiplomaRegNumber)" />
                                   </td>
                                   <td class="px-1 py-1">
                                          <input asp-for="@diplomaVM.DateOfIssue" class="border-1 px-1 col-sm-11"
                                                 validate field-name="@nameof(diplomaVM.DateOfIssue)" />
                                   </td>
                                   <td class="px-1 py-1">
                                          <input asp-for="@diplomaVM.Seria" class="border-1 p-0 col-sm-11"
                                                 validate field-name="@nameof(diplomaVM.Seria)" />
                                   </td>
                                   <td class="px-1 py-1">
                                          <input asp-for="@diplomaVM.SerialNumber" class="border-1 p-0 col-sm-11"
                                                 validate field-name="@nameof(diplomaVM.SerialNumber)" />
                                   </td>
                                   <td class="px-1 py-1">
                                          <input asp-for="@diplomaVM.EducationTypeName" placeholder="Required"
                                                 class="border-1 p-0 col-sm-11" list="education-list"
                                                 validate field-name="@nameof(diplomaVM.EducationTypeName)" />
                                          <vc:education-name></vc:education-name>
                                   </td>
                                   <td class="px-1 py-1">
                                          <input asp-for="@diplomaVM.Speciality" class="border-1 p-0 col-sm-11"
                                                 validate field-name="@nameof(diplomaVM.Speciality)" />
                                   </td>
                                   <td class="px-1 py-1">
                                          <input asp-for="@diplomaVM.Profession" class="border-1 p-0 col-sm-11"
                                                 validate field-name="@nameof(diplomaVM.Profession)" />
                                   </td>
                                   <td class="px-1 py-1">
                                          <input asp-for="@diplomaVM.HasBeenDeleted" class="border-1 p-0 col-sm-11" type="text"
                                                 validate field-name="@nameof(diplomaVM.HasBeenDeleted)" />
                                   </td>
                            </tr>
                     </tbody>
              </table>
       </div>
       
       <input id="add-record" type="submit" class="btn btn-success h-50 border-0 col-sm-7 " value="Create" hidden />
</form>

